{
    "class_name": "UpdateUsingGit",
    "decorators": null,
    "bases": null,
    "docstring": "DO NOT USE: The necessary functionality for this class is not yet implemented.\n\nA class that provides methods to get the names of the Python modules that have been changed using on version control.\n\nUse this class to get all the file names for the Python modules that have been changes since the last commit or since\na specific commit. You can get the `commit_hash` for a specific commit by going to the commit on GitHub and copying\nthe hash from the URL. For example, the commit hash for the following commit is `e8856d2`, or you can use the terminal, for\ninstance: `git log --author=\"username\" --grep=\"commit message\" --format=\"%H\"` if you know all the details of the commit.\n\nMethods:\n    - `get_module_names_updated_since_last_commit()`: Returns a list of the modules that have been changed since the last commit.\n    - `get_module_names_updated_since_commit(commit_hash: str)`: Returns a list of the modules that have been changed since the specified commit.\n\nExamples:\n    ```Python\n    from postcode.updaters.git_updater import UpdateUsingGit\n\n    # Get the names of the modules that have been changed since the last commit\n    changed_modules_name_list = UpdateUsingGit.get_module_names_updated_since_last_commit()\n    ```",
    "keywords": null,
    "id": "postcode:updaters:git_updater.py__*__MODULE__*__CLASS-UpdateUsingGit",
    "file_path": "postcode/updaters/git_updater.py",
    "parent_id": "postcode:updaters:git_updater.py__*__MODULE",
    "block_type": "CLASS",
    "start_line_num": 2,
    "end_line_num": 110,
    "code_content": "\n\nclass UpdateUsingGit:\n    \"\"\"\n    DO NOT USE: The necessary functionality for this class is not yet implemented.\n\n    A class that provides methods to get the names of the Python modules that have been changed using on version control.\n\n    Use this class to get all the file names for the Python modules that have been changes since the last commit or since\n    a specific commit. You can get the `commit_hash` for a specific commit by going to the commit on GitHub and copying\n    the hash from the URL. For example, the commit hash for the following commit is `e8856d2`, or you can use the terminal, for\n    instance: `git log --author=\"username\" --grep=\"commit message\" --format=\"%H\"` if you know all the details of the commit.\n\n    Methods:\n        - `get_module_names_updated_since_last_commit()`: Returns a list of the modules that have been changed since the last commit.\n        - `get_module_names_updated_since_commit(commit_hash: str)`: Returns a list of the modules that have been changed since the specified commit.\n\n    Examples:\n        ```Python\n        from postcode.updaters.git_updater import UpdateUsingGit\n\n        # Get the names of the modules that have been changed since the last commit\n        changed_modules_name_list = UpdateUsingGit.get_module_names_updated_since_last_commit()\n        ```\n    \"\"\"\n\n    @staticmethod\n    def get_module_names_updated_since_last_commit() -> list[str]:\n        \"\"\"\n        Returns a list of the modules that have been changed since the last commit.\n\n        Runs the following command using subprocess:\n            (git ls-files --others --exclude-standard; git diff --name-only HEAD) | sort | uniq\n\n        Returns:\n            - list[str]: A list of the modules that have been changed since the last commit.\n\n        Raises:\n            - Exception: If the git command fails.\n        \"\"\"\n\n        git_command = \"(git ls-files --others --exclude-standard; git diff --name-only HEAD) | sort | uniq\"\n\n        result: subprocess.CompletedProcess[str] = subprocess.run(\n            git_command, shell=True, capture_output=True, text=True\n        )\n        if result.returncode != 0:\n            raise Exception(\"Git command failed: \" + result.stderr)\n\n        changed_files: list[str] = result.stdout.strip().split(\"\\n\")\n\n        return [file for file in changed_files if file.endswith(\".py\")]\n\n    @staticmethod\n    def get_module_names_updated_since_commit(commit_hash: str) -> list[str]:\n        \"\"\"\n        Returns a list of the Python modules that have been changed since the specified commit.\n\n        Args:\n            - commit (str): The commit hash or reference to compare the current state against.\n\n        Runs the following command using subprocess:\n            (git ls-files --others --exclude-standard; git diff --name-only COMMIT) | sort | uniq\n\n        Returns:\n            - list[str]: A list of the modules that have been changed since the specified commit.\n\n        Raises:\n            - Exception: If the git command fails.\n        \"\"\"\n\n        git_command = f\"(git ls-files --others --exclude-standard; git diff --name-only {commit_hash}) | sort | uniq\"\n\n        result: subprocess.CompletedProcess[str] = subprocess.run(\n            git_command, shell=True, capture_output=True, text=True\n        )\n        if result.returncode != 0:\n            raise Exception(\"Git command failed: \" + result.stderr)\n\n        changed_files: list[str] = result.stdout.strip().split(\"\\n\")\n\n        return [file for file in changed_files if file.endswith(\".py\")]\n\n    @staticmethod\n    def __get_updated_modules(directory: str | None = None) -> list[str]:\n        \"\"\"\n        DO NOT USE: The necessary functionality for this method is not yet implemented.\n\n        Returns a list of the modules that have been changed since the last commit based on a directory path.\n        \"\"\"\n        git_ls_files_cmd = \"git ls-files --others --exclude-standard\"\n        git_diff_cmd = \"git diff --name-only HEAD\"\n\n        if directory:\n            git_ls_files_cmd += f\" '{directory}'\"\n            git_diff_cmd += f\" '{directory}'\"\n\n        git_command: str = f\"({git_ls_files_cmd}; {git_diff_cmd}) | sort | uniq\"\n\n        result: subprocess.CompletedProcess[str] = subprocess.run(\n            git_command, shell=True, capture_output=True, text=True\n        )\n        if result.returncode != 0:\n            raise Exception(\"Git command failed: \" + result.stderr)\n\n        changed_files: list[str] = result.stdout.strip().split(\"\\n\")\n\n        return [file for file in changed_files if file.endswith(\".py\")]\n",
    "important_comments": null,
    "dependencies": [
        {
            "import_names": [
                {
                    "name": "subprocess",
                    "as_name": null,
                    "local_block_id": null
                }
            ],
            "imported_from": null,
            "import_module_type": "STANDARD_LIBRARY",
            "local_module_id": null
        }
    ],
    "summary": null,
    "children_ids": [
        "postcode:updaters:git_updater.py__*__MODULE__*__CLASS-UpdateUsingGit__*__FUNCTION-get_module_names_updated_since_last_commit",
        "postcode:updaters:git_updater.py__*__MODULE__*__CLASS-UpdateUsingGit__*__FUNCTION-get_module_names_updated_since_commit",
        "postcode:updaters:git_updater.py__*__MODULE__*__CLASS-UpdateUsingGit__*__FUNCTION-__get_updated_modules"
    ]
}